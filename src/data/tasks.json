{
  "tasks": [
    {
      "_id": "507f1f77bcf86cd799439012",
      "title": "Diseñar landing page",
      "description": "Crear diseño responsivo para la página principal",
      "kanban_id": "507f1f77bcf86cd799439020",
      "column": "todo",
      "userId": "507f1f77bcf86cd799439011",
      "priority": "high",
      "order": 1,
      "attachments": []
    }
  ],
  "schema": {
    "description": "Task schema for MongoDB with Mongoose - Kanban board tasks",
    "fields": {
      "_id": {
        "type": "ObjectId",
        "description": "Identificador único de la tarea (generado automáticamente por MongoDB)",
        "required": true
      },
      "title": {
        "type": "String",
        "description": "Título de la tarea",
        "required": true,
        "maxlength": 100
      },
      "description": {
        "type": "String",
        "description": "Descripción detallada de la tarea",
        "default": null,
        "maxlength": 500
      },
      "column": {
        "type": "String",
        "description": "Columna del Kanban donde se encuentra la tarea",
        "enum": ["todo", "in-progress", "done"],
        "required": true,
        "default": "todo"
      },
      "kanban_id": {
        "type": "ObjectId",
        "description": "Referencia al tablero Kanban al que pertenece la tarea",
        "required": true,
        "ref": "KanbanBoard"
      },
      "userId": {
        "type": "ObjectId",
        "description": "Referencia al usuario propietario de la tarea",
        "required": true,
        "ref": "User"
      },
      "priority": {
        "type": "String",
        "description": "Nivel de prioridad de la tarea",
        "enum": ["low", "medium", "high"],
        "default": "medium"
      },
      "order": {
        "type": "Number",
        "description": "Orden de la tarea dentro de su columna para drag-and-drop",
        "required": true,
        "default": 1
      },
      "attachments": {
        "type": "Array",
        "description": "Archivos adjuntos asociados a la tarea",
        "default": [],
        "items": {
          "type": "Object",
          "properties": {
            "_id": {
              "type": "ObjectId",
              "description": "Identificador único del archivo adjunto"
            },
            "filename": {
              "type": "String",
              "description": "Nombre del archivo"
            },
            "originalName": {
              "type": "String",
              "description": "Nombre original del archivo"
            },
            "mimeType": {
              "type": "String",
              "description": "Tipo MIME del archivo (ej: image/png, application/pdf)"
            },
            "size": {
              "type": "Number",
              "description": "Tamaño del archivo en bytes"
            },
            "uploadedAt": {
              "type": "Date",
              "description": "Fecha y hora de subida del archivo"
            },
            "uploadedBy": {
              "type": "ObjectId",
              "description": "ID del usuario que subió el archivo",
              "ref": "User"
            },
            "url": {
              "type": "String",
              "description": "URL del archivo para descargar"
            }
          }
        }
      }
    },
    "indexes": [
      {
        "field": "userId",
        "description": "Índice para consultas rápidas por usuario"
      },
      {
        "field": "column",
        "description": "Índice para consultas rápidas por columna"
      },
      {
        "fields": ["userId", "column"],
        "description": "Índice compuesto para obtener tareas de un usuario en una columna específica"
      }
    ]
  }
}
