{
  "archivos": [
    {
      "_id": "507f1f77bcf86cd799439030",
      "filename": "proyecto-reuscons-v1.0.pdf",
      "originalName": "proyecto-reuscons-v1.0.pdf",
      "mimetype": "application/pdf",
      "size": 2048576,
      "userId": "507f1f77bcf86cd799439011",
      "kanbanId": "507f1f77bcf86cd799439020",
      "taskId": "507f1f77bcf86cd799439012",
      "uploadDate": "2024-01-15T14:30:00Z",
      "description": "Documento de especificación del proyecto Reuscons 4.0"
    }
  ],
  "schema": {
    "description": "File schema for MongoDB with Mongoose - File manager",
    "fields": {
      "_id": {
        "type": "ObjectId",
        "description": "Identificador único del archivo (generado automáticamente por MongoDB)",
        "required": true
      },
      "filename": {
        "type": "String",
        "description": "Nombre del archivo almacenado en el servidor",
        "required": true,
        "unique": true,
        "maxlength": 255
      },
      "originalName": {
        "type": "String",
        "description": "Nombre original del archivo subido por el usuario",
        "required": true,
        "maxlength": 255
      },
      "mimetype": {
        "type": "String",
        "description": "Tipo MIME del archivo (ej: application/pdf, image/png)",
        "required": true,
        "maxlength": 100
      },
      "size": {
        "type": "Number",
        "description": "Tamaño del archivo en bytes",
        "required": true,
        "min": 1
      },
      "userId": {
        "type": "ObjectId",
        "description": "Referencia al usuario propietario del archivo",
        "required": true,
        "ref": "User"
      },
      "kanban_id": {
        "type": "ObjectId",
        "description": "Referencia al tablero Kanban asociado (opcional)",
        "default": null,
        "ref": "KanbanBoard"
      },
      "taskId": {
        "type": "ObjectId",
        "description": "Referencia a la tarea asociada (opcional)",
        "default": null,
        "ref": "Task"
      },
      "uploadDate": {
        "type": "Date",
        "description": "Fecha y hora de subida del archivo",
        "required": true,
        "default": "Date.now"
      },
      "description": {
        "type": "String",
        "description": "Descripción o notas sobre el archivo",
        "default": null,
        "maxlength": 500
      }
    },
    "indexes": [
      {
        "field": "userId",
        "description": "Índice para consultas rápidas por usuario propietario"
      },
      {
        "field": "kanban_id",
        "description": "Índice para consultas rápidas por tablero Kanban"
      },
      {
        "field": "taskId",
        "description": "Índice para consultas rápidas por tarea asociada"
      },
      {
        "fields": ["userId", "uploadDate"],
        "description": "Índice compuesto para obtener archivos de un usuario ordenados por fecha"
      }
    ]
  }
}
